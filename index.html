<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>URU 路 Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>URU</header>

<div class="app">

<!-- CANCIONES -->
<aside class="sidebar">
  <div class="section"> AUDIOS</div>
  <div class="item audio" data-src="audio/aceso.mp3">Aceso</div>
  <div class="item audio" data-src="audio/dd.mp3">DD</div>
  <div class="item audio" data-src="audio/del.mp3">Del</div>
  <div class="item audio" data-src="audio/expancivo.mp3">Expancivo</div>
  <div class="item audio" data-src="audio/gds.mp3">GDS</div>
  <div class="item audio" data-src="audio/inbi.mp3">Inbi</div>
  <div class="item audio" data-src="audio/ind.mp3">Ind</div>
  <div class="item audio" data-src="audio/inter.mp3">Inter</div>
  <div class="item audio" data-src="audio/mapa.mp3">Mapa</div>
  <div class="item audio" data-src="audio/navegar.mp3">Navegar</div>
  <div class="item audio" data-src="audio/porr.mp3">Porr</div>
  <div class="item audio" data-src="audio/premi.mp3">Premi</div>
  <div class="item audio" data-src="audio/rune.mp3">Rune</div>
  <div class="item audio" data-src="audio/wera.mp3">Wera</div>

  <div class="section"> VIDEOS</div>
  <div class="item video" data-src="videos/ami.mp4">Ami</div>
  <div class="item video" data-src="videos/caminar.mp4">Caminar</div>
  <div class="item video" data-src="videos/cielo.mp4">Cielo</div>
  <div class="item video" data-src="videos/enmi.mp4">Enmi</div>
  <div class="item video" data-src="videos/envidi.mp4">Envidi</div>
  <div class="item video" data-src="videos/mejura.mp4">Mejura</div>
  <div class="item video" data-src="videos/song.mp4">Song</div>
</aside>

<!-- PLAYER -->
<main class="player">
  <div class="stage" id="stage">
    <div style="color:#555">elige un sonido</div>
  </div>
  <div class="info" id="info">URU 路 m煤sica & visi贸n</div>
</main>

<!-- MENSAJES -->
<aside class="soul">
  <img src="img/corazon-negro.png" alt="coraz贸n negro roto">

  <div class="poem">
    No escribo para gustar.<br>
    <span>escribo para no romperme.</span><br><br>
    Cada pista sangra lo que callo.
  </div>

  <div class="poem">
    Si escuchas despacio,<br>
    quiz谩s escuches tu sombra.
  </div>

  <div class="radio">
    <a href="https://radio.uruchillaimusiconline.online/stream" target="_blank">
       Radio URU (Icecast)
    </a>
  </div>
</aside>

</div>

<button style="
position:fixed;
bottom:16px;
right:16px;
padding:10px 14px;
border-radius:999px;
background:#111;
color:#fff;
border:1px solid #222;
cursor:pointer;
z-index:999"
onclick="document.body.classList.toggle('cinema')">
 Cine
</button>

<script>
const stage=document.getElementById('stage');
const info=document.getElementById('info');
const items=[...document.querySelectorAll('.item')];

let currentIndex=-1;
let currentType=null;

function clearActive(){
  items.forEach(i=>i.classList.remove('active'));
}

function playIndex(i){
  const item=items[i];
  if(!item) return;

  clearActive();
  item.classList.add('active');

  currentIndex=i;
  currentType=item.classList.contains('audio')?'audio':'video';

  const src=item.dataset.src;
  const name=item.textContent.trim();

  if(currentType==='audio'){
    stage.innerHTML=`<audio src="${src}" controls autoplay></audio>`;
    info.textContent=" "+name;
  }else{
    stage.innerHTML=`<video src="${src}" controls autoplay></video>`;
    info.textContent=" "+name;
  }

  const media=stage.querySelector('audio,video');
  media.onended=autoNext;
}

function autoNext(){
  for(let i=currentIndex+1;i<items.length;i++){
    if(items[i].classList.contains(currentType)){
      playIndex(i);
      return;
    }
  }
}

items.forEach((item,i)=>{
  item.onclick=()=>playIndex(i);
});
</script>

</body>
</html>

